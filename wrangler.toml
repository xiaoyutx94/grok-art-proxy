name = "grok-imagine"
main = "src/index.ts"
compatibility_date = "2024-12-01"

# Static assets (frontend UI)
assets = { directory = "./static", binding = "ASSETS" }

# Smart placement for optimal performance
[placement]
mode = "smart"

[[d1_databases]]
binding = "DB"
database_name = "grok-imagine"
# This will be replaced by GitHub Actions during deployment
database_id = "YOUR_D1_DATABASE_ID"
migrations_dir = "migrations"

[[kv_namespaces]]
binding = "KV_CACHE"
# This will be replaced by GitHub Actions during deployment
id = "YOUR_KV_NAMESPACE_ID"

[vars]
BUILD_SHA = "dev"
KV_CACHE_MAX_BYTES = "26214400"

# Authentication - set via Cloudflare Dashboard or wrangler secret:
#   npx wrangler secret put AUTH_USERNAME
#   npx wrangler secret put AUTH_PASSWORD
